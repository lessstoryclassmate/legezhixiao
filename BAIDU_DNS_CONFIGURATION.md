# ç™¾åº¦äº‘DNSå’Œé•œåƒé…ç½®æŒ‡å—

## ðŸŽ¯ é…ç½®æ¦‚è¿°

ä½¿ç”¨ç™¾åº¦äº‘DNSæœåŠ¡å’Œç™¾åº¦äº‘Dockeré•œåƒåŠ é€Ÿå™¨ï¼Œæä¾›ç¨³å®šå¯é çš„ç½‘ç»œæœåŠ¡ã€‚

## ðŸŒ DNSé…ç½®

### ç™¾åº¦äº‘DNS
- **ä¸»DNS**: 180.76.76.76
- **å¤‡ç”¨DNS**: 8.8.8.8 (Google DNS)

### é…ç½®æ–¹æ³•
```bash
# æ‰‹åŠ¨é…ç½®
sudo bash -c 'cat > /etc/resolv.conf <<EOF
nameserver 180.76.76.76
nameserver 8.8.8.8
EOF'

# æˆ–ä½¿ç”¨éªŒè¯è„šæœ¬
./scripts/verify-baidu-dns.sh
```

## ðŸ³ Dockeré…ç½®

### é•œåƒåŠ é€Ÿå™¨
- **ç™¾åº¦äº‘é•œåƒ**: https://registry.baidubce.com
- **æ‹‰å–æ ¼å¼**: `docker pull registry.baidubce.com/library/é•œåƒå:æ ‡ç­¾`

### daemon.jsoné…ç½®
```json
{
  "registry-mirrors": ["https://registry.baidubce.com"],
  "dns": ["180.76.76.76", "8.8.8.8"],
  "max-concurrent-downloads": 3,
  "max-concurrent-uploads": 5,
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "100m",
    "max-file": "3"
  },
  "storage-driver": "overlay2",
  "live-restore": true
}
```

## ðŸ“¦ é•œåƒæ‹‰å–

### åŸºç¡€é•œåƒåˆ—è¡¨
```bash
# ä½¿ç”¨ç®€å•æ ¼å¼ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬
BASE_IMAGES=(
    "node:18-alpine"
    "python:3.11-slim"
    "nginx:latest"
    "mongo:latest"
    "redis:latest"
)
```

### æ‹‰å–å‘½ä»¤
```bash
# ç›´æŽ¥é€šè¿‡ç™¾åº¦äº‘é•œåƒæ‹‰å–
docker pull registry.baidubce.com/library/nginx:latest

# æ·»åŠ å¸¸è§„æ ‡ç­¾
docker tag registry.baidubce.com/library/nginx:latest nginx:latest
```

## ðŸ”§ éªŒè¯å·¥å…·

### 1. DNSéªŒè¯è„šæœ¬
```bash
./scripts/verify-baidu-dns.sh
```

**åŠŸèƒ½:**
- é…ç½®ç™¾åº¦äº‘DNS
- æµ‹è¯•DNSè§£æžæ€§èƒ½
- éªŒè¯ç½‘ç»œè¿žæŽ¥
- æµ‹è¯•é•œåƒåŠ é€Ÿå™¨è¿žé€šæ€§

### 2. å®Œæ•´éƒ¨ç½²è„šæœ¬
```bash
./scripts/quick-deploy-fixed.sh
```

**åŠŸèƒ½:**
- è‡ªåŠ¨é…ç½®ç™¾åº¦äº‘DNS
- é…ç½®Dockerä½¿ç”¨ç™¾åº¦äº‘é•œåƒåŠ é€Ÿå™¨
- é¢„æ‹‰å–æ‰€éœ€é•œåƒ
- å®Œæˆåº”ç”¨éƒ¨ç½²

## ðŸš€ ä¼˜åŠ¿

### DNSä¼˜åŠ¿
- **ç¨³å®šæ€§**: ç™¾åº¦äº‘DNSæä¾›é«˜å¯ç”¨æ€§
- **é€Ÿåº¦**: é’ˆå¯¹ä¸­å›½å¤§é™†ç½‘ç»œä¼˜åŒ–
- **å¯é æ€§**: å¤‡ç”¨DNSç¡®ä¿æœåŠ¡è¿žç»­æ€§

### é•œåƒåŠ é€Ÿå™¨ä¼˜åŠ¿
- **é€Ÿåº¦**: ç™¾åº¦äº‘é•œåƒåŠ é€Ÿå™¨æä¾›å¿«é€Ÿä¸‹è½½
- **ç¨³å®šæ€§**: å‡å°‘ç½‘ç»œæ³¢åŠ¨å½±å“
- **ç®€åŒ–**: ç»Ÿä¸€ä½¿ç”¨å•ä¸€é•œåƒæº

## ðŸ“‹ ä½¿ç”¨æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] ç¡®è®¤ç½‘ç»œè¿žæŽ¥æ­£å¸¸
- [ ] éªŒè¯DNSè§£æžåŠŸèƒ½
- [ ] æµ‹è¯•é•œåƒåŠ é€Ÿå™¨è¿žé€šæ€§
- [ ] æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€

### éƒ¨ç½²åŽéªŒè¯
- [ ] ç¡®è®¤DNSé…ç½®ç”Ÿæ•ˆ
- [ ] éªŒè¯é•œåƒæ‹‰å–æˆåŠŸ
- [ ] æ£€æŸ¥åº”ç”¨æœåŠ¡çŠ¶æ€
- [ ] æµ‹è¯•ç½‘ç»œè¿žæŽ¥ç¨³å®šæ€§

## ðŸ› ï¸ æ•…éšœæŽ’æŸ¥

### DNSè§£æžå¤±è´¥
1. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
2. éªŒè¯DNSæœåŠ¡å™¨å¯è¾¾æ€§
3. å°è¯•ä½¿ç”¨å¤‡ç”¨DNS
4. æ£€æŸ¥é˜²ç«å¢™é…ç½®

### é•œåƒæ‹‰å–å¤±è´¥
1. éªŒè¯é•œåƒåŠ é€Ÿå™¨è¿žé€šæ€§
2. æ£€æŸ¥Docker daemoné…ç½®
3. ç¡®è®¤é•œåƒåç§°å’Œæ ‡ç­¾æ­£ç¡®
4. æ£€æŸ¥ç£ç›˜ç©ºé—´

### ç½‘ç»œè¿žæŽ¥é—®é¢˜
1. æµ‹è¯•åŸºç¡€ç½‘ç»œè¿žæŽ¥
2. æ£€æŸ¥è·¯ç”±é…ç½®
3. éªŒè¯é˜²ç«å¢™è®¾ç½®
4. ç¡®è®¤DNSè§£æžæ­£å¸¸

## ðŸ”„ ç»´æŠ¤å»ºè®®

### å®šæœŸæ£€æŸ¥
- æ¯å‘¨éªŒè¯DNSé…ç½®
- å®šæœŸæµ‹è¯•é•œåƒåŠ é€Ÿå™¨
- ç›‘æŽ§ç½‘ç»œè¿žæŽ¥è´¨é‡
- æ£€æŸ¥Dockeré…ç½®æœ‰æ•ˆæ€§

### ä¼˜åŒ–å»ºè®®
- æ ¹æ®ç½‘ç»œçŽ¯å¢ƒè°ƒæ•´DNSé…ç½®
- ç›‘æŽ§é•œåƒæ‹‰å–æ€§èƒ½
- å®šæœŸæ¸…ç†æ— ç”¨é•œåƒ
- ä¿æŒé…ç½®æ–‡ä»¶æ›´æ–°

## ðŸ“ž æ”¯æŒ

å¦‚æžœé‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæŽ’æŸ¥ï¼š
1. è¿è¡ŒDNSéªŒè¯è„šæœ¬
2. æ£€æŸ¥ç½‘ç»œè¿žæŽ¥
3. éªŒè¯Dockeré…ç½®
4. æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—

---

**é…ç½®æ–‡ä»¶ä½ç½®:**
- DNSé…ç½®: `/etc/resolv.conf`
- Dockeré…ç½®: `/etc/docker/daemon.json`
- éªŒè¯è„šæœ¬: `./scripts/verify-baidu-dns.sh`
