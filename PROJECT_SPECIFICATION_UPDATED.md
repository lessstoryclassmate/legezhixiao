# ä¹æ ¼è‡³æ•ˆ (LeGeZhiXiao) AI å°è¯´åˆ›ä½œå¹³å° - å®Œæ•´é¡¹ç›®è¯´æ˜ä¹¦

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®å®šä½

ä¹æ ¼è‡³æ•ˆæ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„å°è¯´åˆ›ä½œè¾…åŠ©å¹³å°ï¼Œæ—¨åœ¨ä¸ºåˆ›ä½œè€…æä¾›æ™ºèƒ½åŒ–çš„å†™ä½œå·¥å…·å’Œåˆ›ä½œæ”¯æŒã€‚å¹³å°èåˆäº†å…ˆè¿›çš„ AI æŠ€æœ¯ä¸ä¸“ä¸šçš„åˆ›ä½œç†è®ºï¼Œå¸®åŠ©ç”¨æˆ·æå‡åˆ›ä½œæ•ˆç‡å’Œä½œå“è´¨é‡ã€‚

### âœ… æ ¸å¿ƒä»·å€¼ (å·²å®ç°)

- **AI é©±åŠ¨åˆ›ä½œ**: é›†æˆ SiliconFlow DeepSeek-V3ï¼Œæä¾›æ™ºèƒ½åˆ›ä½œå»ºè®®
- **çŸ¥è¯†å›¾è°±è¾…åŠ©**: Neo4j å›¾æ•°æ®åº“æ”¯æŒï¼Œæ„å»ºè§’è‰²å…³ç³»å’Œæƒ…èŠ‚è¿æ¥
- **ä¸“ä¸šåˆ›ä½œå·¥å…·**: å®Œæ•´çš„é¡¹ç›®ç®¡ç†ã€è§’è‰²ç®¡ç†ã€ç« èŠ‚ç¼–è¾‘åŠŸèƒ½
- **æ•°æ®é©±åŠ¨åˆ†æ**: å†™ä½œç»Ÿè®¡å’Œè¿›åº¦åˆ†æç³»ç»Ÿ
- **ç°ä»£åŒ–ä½“éªŒ**: React 18 + TypeScript + Material-UI æŠ€æœ¯æ ˆ

### ç›®æ ‡ç”¨æˆ·

- **ç½‘ç»œå°è¯´ä½œå®¶**: éœ€è¦æé«˜åˆ›ä½œæ•ˆç‡çš„ä¸“ä¸šä½œè€…
- **æ–‡å­¦åˆ›ä½œçˆ±å¥½è€…**: å¸Œæœ›è·å¾—åˆ›ä½œæŒ‡å¯¼çš„ä¸šä½™å†™æ‰‹
- **ç¼–å‰§ç­–åˆ’**: éœ€è¦è§’è‰²å’Œæƒ…èŠ‚ç®¡ç†çš„ä¸“ä¸šäººå‘˜
- **åˆ›ä½œæ•™è‚²è€…**: æ•™æˆåˆ›ä½œæŠ€å·§çš„è€å¸ˆå’ŒåŸ¹è®­å¸ˆ

## äºŒã€åŠŸèƒ½æ¶æ„

### 1. âœ… é¡¹ç›®ç®¡ç†ç³»ç»Ÿ (å·²å®Œæˆ)

- **é¡¹ç›®åˆ›å»º**: âœ… æ”¯æŒæ–°å»ºã€å¯¼å…¥ã€æ¨¡æ¿åŒ–é¡¹ç›®åˆ›å»º
- **è¿›åº¦è·Ÿè¸ª**: âœ… å®æ—¶å­—æ•°ç»Ÿè®¡ã€ç« èŠ‚è¿›åº¦ã€å®Œæˆåº¦åˆ†æ
- **æ•°æ®ç®¡ç†**: âœ… é¡¹ç›®å¤‡ä»½ã€å¯¼å‡ºã€ç‰ˆæœ¬æ§åˆ¶
- **åä½œåŠŸèƒ½**: âœ… åŸºç¡€åä½œæ”¯æŒï¼Œå¯æ‰©å±•å›¢é˜ŸåŠŸèƒ½

### 2. âœ… æ™ºèƒ½å†™ä½œç¼–è¾‘å™¨ (å·²å®Œæˆ)

- **å¯Œæ–‡æœ¬ç¼–è¾‘**: âœ… æ”¯æŒæ ¼å¼åŒ–æ–‡æœ¬ã€ç« èŠ‚ç»„ç»‡
- **å®æ—¶é¢„è§ˆ**: âœ… å³æ—¶æ¸²æŸ“å’Œæ ¼å¼é¢„è§ˆ
- **è‡ªåŠ¨ä¿å­˜**: âœ… é˜²æ­¢æ•°æ®ä¸¢å¤±çš„è‡ªåŠ¨ä¿å­˜æœºåˆ¶
- **å¿«æ·æ“ä½œ**: âœ… å¿«é€Ÿæ’å…¥ã€æ‰¹é‡æ“ä½œã€å¿«æ·é”®æ”¯æŒ

### 3. âœ… è§’è‰²ä¸ä¸–ç•Œæ„å»º (å·²å®Œæˆ)

- **è§’è‰²æ¡£æ¡ˆ**: âœ… è¯¦ç»†çš„è§’è‰²ä¿¡æ¯ç®¡ç†
- **å…³ç³»ç½‘ç»œ**: âœ… è§’è‰²å…³ç³»å›¾è°±å’Œäº’åŠ¨å†å²
- **ä¸–ç•Œè®¾å®š**: âœ… ä¸–ç•Œè§‚ã€èƒŒæ™¯ã€è§„åˆ™ä½“ç³»ç®¡ç†
- **ç´ æåº“**: âœ… å›¾ç‰‡ã€éŸ³é¢‘ã€å‚è€ƒèµ„æ–™ç®¡ç†

### 4. âœ… AI Agent ç³»ç»Ÿ (å·²å®Œæˆ)

- **è‡ªç„¶è¯­è¨€äº¤äº’**: âœ… æ”¯æŒä¸­æ–‡æŒ‡ä»¤è¯†åˆ«å’Œæ„å›¾åˆ†æ
- **çŸ¥è¯†å›¾è°±é›†æˆ**: âœ… è‡ªåŠ¨è¯»å–è§’è‰²å…³ç³»ã€æƒ…èŠ‚è¿æ¥ã€ä¸–ç•Œè§‚è®¾å®š
- **åˆ›ä½œè¾…åŠ©**: âœ… åŸºäºä¸Šä¸‹æ–‡çš„æ™ºèƒ½å»ºè®®å’Œå†…å®¹ç”Ÿæˆ
- **å¤šæ¨¡æ€æ“ä½œ**: âœ… é¡¹ç›®ç®¡ç†ã€è§’è‰²åˆ›å»ºã€å†…å®¹å†™ä½œã€æ•°æ®åˆ†æ

### 5. âœ… ä¸“ä¸šåˆ›ä½œå·¥å…· (å·²å®Œæˆ)

- **è§’è‰²ç®¡ç†**: âœ… è§’è‰²å¡ç‰‡ã€å…³ç³»ç½‘ç»œã€æˆé•¿è½¨è¿¹ã€AI åˆ†æ
- **ä¸–ç•Œæ„å»º**: âœ… è®¾å®šç®¡ç†ã€æ¦‚å¿µèŠ‚ç‚¹ã€åœ°ç‚¹å…³ç³»ã€ä¸»é¢˜è¿½è¸ª
- **æƒ…èŠ‚è§„åˆ’**: âœ… å¤§çº²ç®¡ç†ã€äº‹ä»¶è¿æ¥ã€å¼ åŠ›åˆ†æã€ä¼ç¬”ç³»ç»Ÿ
- **ç»Ÿè®¡åˆ†æ**: âœ… å†™ä½œæ¨¡å¼åˆ†æã€è¿›åº¦é¢„æµ‹ã€è´¨é‡è¯„ä¼°

### 6. ğŸ”„ çº¦æŸå¼•æ“ç³»ç»Ÿ (è§„åˆ’ä¸­)

åŸºäºã€ŠAI å†™å°è¯´ 5ã€‹çš„ 8 æ¨¡å—çº¦æŸç³»ç»Ÿï¼š

- **ç±»å‹é€‰æ‹©çº¦æŸ**: ç¡®ä¿æ–‡ä½“å’Œç±»å‹ä¸€è‡´æ€§
- **è§’è‰²å¡‘é€ çº¦æŸ**: è§’è‰²è¡Œä¸ºé€»è¾‘å’Œå‘å±•ä¸€è‡´æ€§
- **æƒ…èŠ‚æ¶æ„çº¦æŸ**: æ•…äº‹ç»“æ„å’ŒèŠ‚å¥æ§åˆ¶
- **ç« èŠ‚è§„åˆ’çº¦æŸ**: ç« èŠ‚é•¿åº¦å’Œå†…å®¹åˆ†é…
- **å¯¹è¯æŠ€å·§çº¦æŸ**: å¯¹è¯é£æ ¼å’Œè§’è‰²å£°éŸ³
- **ä¿®è®¢ç­–ç•¥çº¦æŸ**: ç¼–è¾‘å’Œå®Œå–„å»ºè®®
- **å‘å¸ƒå‡†å¤‡çº¦æŸ**: æ ¼å¼å’Œè´¨é‡æ£€æŸ¥
- **ç³»åˆ—ç®¡ç†çº¦æŸ**: å¤šéƒ¨ä½œå“ä¸€è‡´æ€§ç®¡ç†

## ä¸‰ã€æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿæ¶æ„å›¾

```
                    ä¹ä¸ªæ™ºå°å¹³å°
                  (AIå°è¯´åˆ›ä½œåŠ©æ‰‹)
                        |
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        |               |               |
   ç”¨æˆ·å±‚         åº”ç”¨å±‚         æœåŠ¡å±‚
        |               |               |
    React18         Node.js       SiliconFlow
    TypeScript      Express       DeepSeek-V3
    TailwindCSS     Socket.io      Neo4j
```

### æŠ€æœ¯æ ˆ

#### å‰ç«¯æŠ€æœ¯ (å·²å®ç°)

- **æ¡†æ¶**: React 18 (æ”¯æŒå¹¶å‘ç‰¹æ€§å’ŒæœåŠ¡ç«¯æ¸²æŸ“)
- **ç±»å‹ç³»ç»Ÿ**: TypeScript (æä¾›é™æ€ç±»å‹æ£€æŸ¥)
- **æ ·å¼**: TailwindCSS (å®ç”¨ç±»ä¼˜å…ˆçš„ CSS æ¡†æ¶)
- **çŠ¶æ€ç®¡ç†**: Zustand (è½»é‡çº§çŠ¶æ€ç®¡ç†åº“)
- **è·¯ç”±**: React Router v6 (å£°æ˜å¼è·¯ç”±)
- **UI ç»„ä»¶**: Material-UI v5 (ç°ä»£åŒ– Material Design ç»„ä»¶)
- **å›¾æ ‡**: Lucide React (SVG å›¾æ ‡é›†)
- **æ„å»ºå·¥å…·**: Vite (å¿«é€Ÿæ„å»ºå·¥å…·)

#### åç«¯æŠ€æœ¯ (å·²å®ç°)

- **è¿è¡Œæ—¶**: Node.js 18+ (é«˜æ€§èƒ½ JavaScript è¿è¡Œæ—¶)
- **æ¡†æ¶**: Express.js (è½»é‡çº§ Web æ¡†æ¶)
- **ç±»å‹ç³»ç»Ÿ**: TypeScript (å…¨æ ˆç±»å‹å®‰å…¨)
- **æ•°æ®åº“**: SQLite + Sequelize ORM (å…³ç³»å‹æ•°æ®åº“)
- **å›¾æ•°æ®åº“**: Neo4j (çŸ¥è¯†å›¾è°±å­˜å‚¨)
- **AI æœåŠ¡**: SiliconFlow DeepSeek-V3 (å¤§è¯­è¨€æ¨¡å‹)
- **æ–‡ä»¶å¤„ç†**: Multer (æ–‡ä»¶ä¸Šä¼ ä¸­é—´ä»¶)
- **è¿›ç¨‹ç®¡ç†**: PM2 (ç”Ÿäº§ç¯å¢ƒè¿›ç¨‹ç®¡ç†)

### å‰ç«¯æ¶æ„ (å·²å®ç°)

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # é€šç”¨ç»„ä»¶åº“
â”‚   â”‚   â”œâ”€â”€ common/        # åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ editor/        # ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ui/            # UIç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard/     # ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ Project/       # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Writing/       # å†™ä½œç•Œé¢
â”‚   â”‚   â””â”€â”€ Settings/      # è®¾ç½®é¡µé¢
â”‚   â”œâ”€â”€ services/          # ä¸šåŠ¡æœåŠ¡å±‚ (15ä¸ªæœåŠ¡)
â”‚   â”‚   â”œâ”€â”€ aiAgentService.ts      # AIåŠ©æ‰‹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ neo4jService.ts        # çŸ¥è¯†å›¾è°±æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ projectService.ts      # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ authService.ts         # ç”¨æˆ·è®¤è¯
â”‚   â”‚   â”œâ”€â”€ chapterService.ts      # ç« èŠ‚ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ characterService.ts    # è§’è‰²ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ worldBuildingService.ts # ä¸–ç•Œæ„å»º
â”‚   â”‚   â”œâ”€â”€ writingStatsService.ts # å†™ä½œç»Ÿè®¡
â”‚   â”‚   â”œâ”€â”€ fileUploadService.ts   # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ exportService.ts       # å¯¼å‡ºåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ templateService.ts     # æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ backupService.ts       # å¤‡ä»½æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ collaborationService.ts # åä½œåŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ settingsService.ts     # è®¾ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ notificationService.ts # é€šçŸ¥ç³»ç»Ÿ
â”‚   â”œâ”€â”€ hooks/             # React Hooks
â”‚   â”œâ”€â”€ contexts/          # React Contexts
â”‚   â”œâ”€â”€ store/             # ZustandçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ styles/            # æ ·å¼æ–‡ä»¶
â””â”€â”€ public/                 # é™æ€èµ„æº
```

### åç«¯æ¶æ„ (Node.js + TypeScript - å·²å®ç°)

```
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/        # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ authController.ts
â”‚   â”‚   â”œâ”€â”€ projectController.ts
â”‚   â”‚   â”œâ”€â”€ chapterController.ts
â”‚   â”‚   â”œâ”€â”€ characterController.ts
â”‚   â”‚   â”œâ”€â”€ worldBuildingController.ts
â”‚   â”‚   â””â”€â”€ writingStatsController.ts
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹ (SQLite + Sequelize)
â”‚   â”‚   â”œâ”€â”€ User.ts
â”‚   â”‚   â”œâ”€â”€ Project.ts
â”‚   â”‚   â”œâ”€â”€ Chapter.ts
â”‚   â”‚   â”œâ”€â”€ Character.ts
â”‚   â”‚   â”œâ”€â”€ WorldBuilding.ts
â”‚   â”‚   â””â”€â”€ WritingSession.ts
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ novelCreationService.ts
â”‚   â”‚   â””â”€â”€ fileParsingService.ts
â”‚   â”œâ”€â”€ routes/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ project.ts
â”‚   â”‚   â”œâ”€â”€ ai.ts
â”‚   â”‚   â””â”€â”€ writing.ts
â”‚   â”œâ”€â”€ middleware/         # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â”‚   â””â”€â”€ requestLogger.ts
â”‚   â””â”€â”€ config/             # é…ç½®
â”‚       â””â”€â”€ database.ts
â”œâ”€â”€ data/
â”‚   â””â”€â”€ database.sqlite     # SQLiteæ•°æ®åº“
â””â”€â”€ uploads/                # æ–‡ä»¶ä¸Šä¼ ç›®å½•
```

### æ•°æ®å­˜å‚¨æ¶æ„ (å·²å®ç°)

```
æ•°æ®å±‚:
â”œâ”€â”€ å‰ç«¯å­˜å‚¨
â”‚   â”œâ”€â”€ ZustandçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ æœ¬åœ°æµè§ˆå™¨ç¼“å­˜
â”‚   â””â”€â”€ å®æ—¶æ•°æ®åŒæ­¥
â”œâ”€â”€ åç«¯å­˜å‚¨
â”‚   â”œâ”€â”€ SQLiteæ•°æ®åº“ (å¼€å‘ç¯å¢ƒ)
â”‚   â”œâ”€â”€ Sequelize ORM
â”‚   â””â”€â”€ æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
â”œâ”€â”€ çŸ¥è¯†å›¾è°±å­˜å‚¨
â”‚   â”œâ”€â”€ Neo4jå›¾æ•°æ®åº“
â”‚   â”œâ”€â”€ è§’è‰²å…³ç³»ç½‘ç»œ
â”‚   â”œâ”€â”€ æƒ…èŠ‚è¿æ¥å›¾
â”‚   â””â”€â”€ ä¸–ç•Œè§‚æ¦‚å¿µå›¾
â””â”€â”€ æ–‡ä»¶å­˜å‚¨
    â”œâ”€â”€ å°è¯´æ–‡æ¡£å¯¼å…¥/å¯¼å‡º
    â”œâ”€â”€ è§’è‰²å¤´åƒä¸Šä¼ 
    â””â”€â”€ ä¸´æ—¶æ–‡ä»¶ç®¡ç†
```

## ğŸ¤– AI é›†æˆæ¶æ„ (å·²å®Œæˆå®ç°)

### SiliconFlow DeepSeek-V3 é›†æˆ

```typescript
// AI Agent æœåŠ¡ (å·²å®ç°)
interface AIAgentService {
  // åŸºç¡€AIäº¤äº’
  sendMessage(message: string, context?: AgentContext): Promise<AIResponse>;
  getChatHistory(): Promise<ChatMessage[]>;
  clearChatHistory(): Promise<void>;

  // çŸ¥è¯†å›¾è°±é›†æˆ (å·²å®Œæˆ)
  searchKnowledgeGraph(query: string): Promise<GraphSearchResult>;
  getCharacterRelationships(characterId: string): Promise<RelationshipData[]>;
  analyzePlotConnections(chapterId: string): Promise<PlotAnalysis>;
  getWorldElements(worldId: string): Promise<WorldElement[]>;
  createKnowledgeNode(data: NodeData): Promise<GraphNode>;
  createKnowledgeRelationship(
    from: string,
    to: string,
    type: string
  ): Promise<GraphRelationship>;
}

// å®é™…å®ç°é…ç½®
const AI_CONFIG = {
  provider: "SiliconFlow",
  model: "deepseek-ai/DeepSeek-V3",
  apiKey: process.env.SILICONFLOW_API_KEY,
  baseURL: "https://api.siliconflow.cn/v1",
  maxTokens: 4000,
  temperature: 0.7,
};
```

### Neo4j çŸ¥è¯†å›¾è°±é›†æˆ (å·²å®Œæˆ)

```typescript
// Neo4j æœåŠ¡å®ç°
interface Neo4jService {
  // å›¾æ•°æ®åº“è¿æ¥
  connect(): Promise<void>;
  disconnect(): Promise<void>;

  // èŠ‚ç‚¹æ“ä½œ
  createNode(
    label: string,
    properties: Record<string, any>
  ): Promise<GraphNode>;
  getNode(id: string): Promise<GraphNode | null>;
  updateNode(id: string, properties: Record<string, any>): Promise<void>;
  deleteNode(id: string): Promise<void>;

  // å…³ç³»æ“ä½œ
  createRelationship(
    fromId: string,
    toId: string,
    type: string,
    properties?: Record<string, any>
  ): Promise<GraphRelationship>;
  getRelationships(nodeId: string): Promise<GraphRelationship[]>;

  // æŸ¥è¯¢æ“ä½œ
  searchNodes(query: string): Promise<GraphNode[]>;
  findPath(fromId: string, toId: string): Promise<GraphPath>;
  getNeighbors(nodeId: string, depth?: number): Promise<GraphNode[]>;
}
```

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡ (å·²å®ç°)

### æ ¸å¿ƒå®ä½“å…³ç³» (TypeScript + Sequelize)

```typescript
// é¡¹ç›®æ¨¡å‹ (å·²å®ç°)
interface ProjectModel {
  id: string;
  title: string;
  description?: string;
  authorId: string;
  genre?: string;
  status: "planning" | "writing" | "editing" | "completed";
  targetWords?: number;
  currentWords: number;
  coverImage?: string;
  tags?: string[];
  isPublic: boolean;
  createdAt: Date;
  updatedAt: Date;

  // å…³è”æ•°æ®
  chapters?: Chapter[];
  characters?: Character[];
  worldBuilding?: WorldBuilding[];
  writingSessions?: WritingSession[];
}

// ç« èŠ‚æ¨¡å‹ (å·²å®ç°)
interface ChapterModel {
  id: string;
  projectId: string;
  title: string;
  content: string;
  wordCount: number;
  chapterNumber: number;
  status: "draft" | "reviewing" | "completed";
  notes?: string;
  createdAt: Date;
  updatedAt: Date;
}

// è§’è‰²æ¨¡å‹ (å·²å®ç°)
interface CharacterModel {
  id: string;
  projectId: string;
  name: string;
  description?: string;
  age?: number;
  gender?: string;
  occupation?: string;
  personality?: string;
  background?: string;
  relationships?: string;
  avatar?: string;
  createdAt: Date;
  updatedAt: Date;
}

// ä¸–ç•Œæ„å»ºæ¨¡å‹ (å·²å®ç°)
interface WorldBuildingModel {
  id: string;
  projectId: string;
  title: string;
  category:
    | "location"
    | "culture"
    | "technology"
    | "magic"
    | "politics"
    | "other";
  description: string;
  details?: string;
  tags?: string[];
  createdAt: Date;
  updatedAt: Date;
}

// å†™ä½œç»Ÿè®¡æ¨¡å‹ (å·²å®ç°)
interface WritingSessionModel {
  id: string;
  userId: string;
  projectId?: string;
  startTime: Date;
  endTime?: Date;
  wordsWritten: number;
  timeSpent: number; // åˆ†é’Ÿ
  notes?: string;
}
```

### çŸ¥è¯†å›¾è°±æ•°æ®æ¨¡å‹ (å·²å®ç°)

```typescript
// å›¾èŠ‚ç‚¹ç±»å‹å®šä¹‰
interface GraphNode {
  id: string;
  label: string;
  properties: {
    name: string;
    type: "character" | "location" | "event" | "concept" | "theme";
    description?: string;
    projectId: string;
    metadata?: Record<string, any>;
  };
}

// å›¾å…³ç³»ç±»å‹å®šä¹‰
interface GraphRelationship {
  id: string;
  from: string;
  to: string;
  type: string; // 'KNOWS', 'LIVES_IN', 'CAUSES', 'REPRESENTS', etc.
  properties?: {
    strength?: number;
    description?: string;
    timeline?: string;
  };
}

// çŸ¥è¯†å›¾è°±æœç´¢ç»“æœ
interface GraphSearchResult {
  nodes: GraphNode[];
  relationships: GraphRelationship[];
  paths?: GraphPath[];
  summary?: string;
}
```

## ğŸš€ éƒ¨ç½²æ¶æ„ (å·²å®ç°é…ç½®)

### å¼€å‘ç¯å¢ƒ (å½“å‰é…ç½®)

```bash
# å‰ç«¯å¼€å‘æœåŠ¡å™¨ (å·²é…ç½®)
cd frontend
npm install
npm run dev  # å¯åŠ¨åœ¨ http://localhost:5173 (Vite)

# åç«¯APIæœåŠ¡å™¨ (å·²é…ç½®)
cd backend
npm install
npm run dev  # å¯åŠ¨åœ¨ http://localhost:3001 (Node.js + Express)

# æ•°æ®åº“ (å·²é…ç½®)
# SQLite: backend/data/database.sqlite
# Neo4j: éœ€è¦å•ç‹¬å®‰è£…é…ç½®

# PM2 è¿›ç¨‹ç®¡ç† (å·²é…ç½®)
pm2 start ecosystem.config.js
```

### ä»»åŠ¡é…ç½® (VS Code Tasks)

```json
{
  "å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨": {
    "command": "npm run dev",
    "cwd": "${workspaceFolder}/frontend",
    "isBackground": true
  },
  "å¯åŠ¨åç«¯å¼€å‘æœåŠ¡å™¨": {
    "command": "npm run dev",
    "cwd": "${workspaceFolder}/backend",
    "isBackground": true
  }
}
```

### ç”Ÿäº§ç¯å¢ƒ (è®¡åˆ’ä¸­)

```yaml
# docker-compose.yml (æœªæ¥è§„åˆ’)
version: "3.8"
services:
  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend

  backend:
    build: ./backend
    ports:
      - "3001:3001"
    environment:
      - NODE_ENV=production
      - DATABASE_URL=sqlite:data/database.sqlite
      - NEO4J_URI=bolt://neo4j:7687
    depends_on:
      - neo4j

  neo4j:
    image: neo4j:5.0
    ports:
      - "7474:7474"
      - "7687:7687"
    environment:
      - NEO4J_AUTH=neo4j/password
    volumes:
      - neo4j_data:/data

volumes:
  neo4j_data:
```

## ğŸ¯ å¼€å‘è®¡åˆ’ (åŸºäºå®é™…è¿›åº¦)

### âœ… Phase 1: åŸºç¡€æ¶æ„ (å·²å®Œæˆ)

- [x] é¡¹ç›®æ¶æ„è®¾è®¡å®Œæˆ
- [x] å‰ç«¯ React 18 + TypeScript åº”ç”¨æ­å»º
- [x] åç«¯ Node.js + Express æœåŠ¡æ­å»º
- [x] åŸºç¡€ API æ¥å£å®ç°
- [x] SQLite æ•°æ®æ¨¡å‹å®šä¹‰
- [x] å¼€å‘ç¯å¢ƒé…ç½®å®Œæˆ

### âœ… Phase 2: æ ¸å¿ƒåŠŸèƒ½ (å·²å®Œæˆ)

- [x] æ™ºèƒ½ç¼–è¾‘å™¨ç»„ä»¶é›†æˆ
- [x] SiliconFlow DeepSeek-V3 AI æœåŠ¡é›†æˆ
- [x] é¡¹ç›®ç®¡ç†åŠŸèƒ½å®Œæˆ
- [x] è§’è‰²ç®¡ç†ç³»ç»Ÿå®Œæˆ
- [x] ç« èŠ‚ç®¡ç†ç³»ç»Ÿå®Œæˆ
- [x] å†™ä½œç»Ÿè®¡åˆ†æå®Œæˆ

### âœ… Phase 3: é«˜çº§åŠŸèƒ½ (å·²å®Œæˆ)

- [x] ä¸–ç•Œæ„å»ºå·¥å…·å®Œæˆ
- [x] AI Agent ç³»ç»Ÿå®Œæˆ
- [x] Neo4j çŸ¥è¯†å›¾è°±é›†æˆå®Œæˆ
- [x] æ–‡ä»¶ä¸Šä¼ /å¯¼å…¥åŠŸèƒ½å®Œæˆ
- [x] 15 ä¸ªå‰ç«¯æœåŠ¡æ¨¡å—å®Œæˆ

### ğŸ”„ Phase 4: ä¼˜åŒ–éƒ¨ç½² (è¿›è¡Œä¸­)

- [x] åŸºç¡€æ€§èƒ½ä¼˜åŒ–
- [x] å¼€å‘ç¯å¢ƒéƒ¨ç½²é…ç½®
- [ ] çº¦æŸå¼•æ“ç³»ç»Ÿå®ç°
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²é…ç½®
- [ ] ç›‘æ§å‘Šè­¦ç³»ç»Ÿ
- [ ] ç”¨æˆ·æ–‡æ¡£å®Œå–„

## ğŸ“ˆ æˆåŠŸæŒ‡æ ‡ (åŸºäºå®é™…å®ç°)

### å·²å®ç°æŠ€æœ¯æŒ‡æ ‡

- **æ¶æ„å®Œæ•´æ€§**: âœ… å‰åç«¯å®Œæ•´æ¶æ„
- **AI é›†æˆ**: âœ… DeepSeek-V3 å®Œå…¨é›†æˆ
- **çŸ¥è¯†å›¾è°±**: âœ… Neo4j å›¾æ•°æ®åº“é›†æˆ
- **æ•°æ®æŒä¹…åŒ–**: âœ… SQLite + Sequelize ORM
- **æœåŠ¡å®Œæ•´æ€§**: âœ… 15 ä¸ªæ ¸å¿ƒæœåŠ¡æ¨¡å—

### åŠŸèƒ½å®Œæˆåº¦æŒ‡æ ‡

- **é¡¹ç›®ç®¡ç†**: âœ… 100% å®Œæˆ
- **è§’è‰²ç®¡ç†**: âœ… 100% å®Œæˆ
- **ç« èŠ‚ç®¡ç†**: âœ… 100% å®Œæˆ
- **AI åŠ©æ‰‹**: âœ… 100% å®Œæˆ
- **çŸ¥è¯†å›¾è°±**: âœ… 100% å®Œæˆ
- **çº¦æŸå¼•æ“**: ğŸ”„ è§„åˆ’ä¸­

## ğŸ”§ å¼€å‘å·¥å…·é“¾ (å®é™…ä½¿ç”¨)

### å‰ç«¯å·¥å…· (å·²å®ç°)

- **æ¡†æ¶**: React 18 + TypeScript
- **çŠ¶æ€ç®¡ç†**: Zustand
- **UI åº“**: Material-UI v5
- **ç¼–è¾‘å™¨**: è‡ªå®šä¹‰ç¼–è¾‘å™¨ç»„ä»¶
- **æ„å»ºå·¥å…·**: Vite

### åç«¯å·¥å…· (å·²å®ç°)

- **æ¡†æ¶**: Node.js + Express + TypeScript
- **æ•°æ®åº“**: SQLite + Sequelize ORM
- **å›¾æ•°æ®åº“**: Neo4j
- **AI æœåŠ¡**: SiliconFlow DeepSeek-V3

### å¼€å‘å·¥å…· (å®é™…ä½¿ç”¨)

- **ç‰ˆæœ¬æ§åˆ¶**: Git + GitHub
- **ç¼–è¾‘å™¨**: VS Code + æ‰©å±•ä¼˜åŒ–
- **è¿›ç¨‹ç®¡ç†**: PM2
- **åŒ…ç®¡ç†**: npm
- **æµ‹è¯•å·¥å…·**: é›†æˆæµ‹è¯•æ¡†æ¶

### AI å·¥å…· (å·²é›†æˆ)

- **AI æ¨¡å‹**: SiliconFlow DeepSeek-V3
- **çŸ¥è¯†å›¾è°±**: Neo4j å›¾æ•°æ®åº“
- **API é›†æˆ**: RESTful API è®¾è®¡
- **æµ‹è¯•éªŒè¯**: çŸ¥è¯†å›¾è°±æµ‹è¯•å¥—ä»¶

## ğŸ¨ ç”¨æˆ·ç•Œé¢è®¾è®¡ (å·²å®ç°)

### ç•Œé¢æ¶æ„

```
ä¸»å¯¼èˆªæ  (é¡¶éƒ¨)
â”œâ”€â”€ é¡¹ç›®ç®¡ç†
â”œâ”€â”€ AIåŠ©æ‰‹
â”œâ”€â”€ å†™ä½œå·¥å…·
â””â”€â”€ ç”¨æˆ·è®¾ç½®

ä¾§è¾¹æ  (å·¦ä¾§)
â”œâ”€â”€ é¡¹ç›®åˆ—è¡¨
â”œâ”€â”€ ç« èŠ‚å¯¼èˆª
â”œâ”€â”€ è§’è‰²åˆ—è¡¨
â””â”€â”€ ä¸–ç•Œè®¾å®š

ä¸»å·¥ä½œåŒº (ä¸­å¤®)
â”œâ”€â”€ ç¼–è¾‘å™¨åŒºåŸŸ
â”œâ”€â”€ AIåŠ©æ‰‹é¢æ¿
â””â”€â”€ çŸ¥è¯†å›¾è°±è§†å›¾

çŠ¶æ€æ  (åº•éƒ¨)
â”œâ”€â”€ å­—æ•°ç»Ÿè®¡
â”œâ”€â”€ å†™ä½œè¿›åº¦
â””â”€â”€ ä¿å­˜çŠ¶æ€
```

### ç”¨æˆ·æµç¨‹ (å·²å®ç°)

```
ç™»å½•ç•Œé¢ â†’ é¡¹ç›®ä»ªè¡¨æ¿ â†’ é¡¹ç›®è¯¦æƒ… â†’ å†™ä½œç•Œé¢
    â†“           â†“          â†“         â†“
ç”¨æˆ·è®¤è¯    é¡¹ç›®åˆ—è¡¨    é¡¹ç›®æ¦‚è§ˆ   å®æ—¶ç¼–è¾‘
            æ–°å»ºé¡¹ç›®    è¿›åº¦åˆ†æ   AIåŠ©æ‰‹
            å¯¼å…¥é¡¹ç›®    æ•°æ®ç®¡ç†   çŸ¥è¯†å›¾è°±
```

### æ ¸å¿ƒç»„ä»¶ (å·²å®ç°)

- **æ™ºèƒ½ç¼–è¾‘å™¨**: è‡ªå®šä¹‰ç¼–è¾‘å™¨ + AI å»ºè®®é›†æˆ
- **AI åŠ©æ‰‹é¢æ¿**: å¯¹è¯ç•Œé¢ + çŸ¥è¯†å›¾è°±æŸ¥è¯¢
- **é¡¹ç›®ç®¡ç†**: å®Œæ•´çš„ CRUD æ“ä½œç•Œé¢
- **é¡¹ç›®æ¦‚è§ˆ**: ç»Ÿè®¡å›¾è¡¨ + è¿›åº¦è¿½è¸ª
- **è§’è‰²ç®¡ç†**: å¡ç‰‡å¼å±•ç¤º + å…³ç³»å›¾è°±

## ğŸ”’ å®‰å…¨ä¸éšç§ (å®é™…é…ç½®)

### æ•°æ®å®‰å…¨ (å·²å®ç°)

- **æœ¬åœ°å­˜å‚¨**: SQLite æ•°æ®åº“æœ¬åœ°åŒ–
- **æ–‡ä»¶ç®¡ç†**: æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿå­˜å‚¨
- **è®¿é—®æ§åˆ¶**: åŸºç¡€ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- **æ•°æ®å¤‡ä»½**: Git ç‰ˆæœ¬æ§åˆ¶

### éšç§ä¿æŠ¤ (å·²å®ç°)

- **æœ¬åœ°ä¼˜å…ˆ**: æ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨ä¼˜å…ˆ
- **å¯é€‰ AI**: ç”¨æˆ·å¯æ§åˆ¶ AI åŠŸèƒ½ä½¿ç”¨
- **æ•°æ®é€æ˜**: å®Œæ•´çš„æ•°æ®æ¨¡å‹å¯è§
- **å¼€æºé€æ˜**: å®Œæ•´æºä»£ç å¯å®¡æŸ¥

## âœ… é¡¹ç›®å®ŒæˆçŠ¶æ€æ€»ç»“

### å·²å®ç°æ ¸å¿ƒåŠŸèƒ½

1. **å®Œæ•´çš„å‰åç«¯æ¶æ„** - React 18 + Node.js + TypeScript
2. **AI åŠ©æ‰‹ç³»ç»Ÿ** - SiliconFlow DeepSeek-V3 å®Œå…¨é›†æˆ
3. **çŸ¥è¯†å›¾è°±ç³»ç»Ÿ** - Neo4j å›¾æ•°æ®åº“é›†æˆ
4. **é¡¹ç›®ç®¡ç†ç³»ç»Ÿ** - å®Œæ•´çš„é¡¹ç›® CRUD åŠŸèƒ½
5. **è§’è‰²ç®¡ç†ç³»ç»Ÿ** - è§’è‰²åˆ›å»ºã€ç¼–è¾‘ã€å…³ç³»ç®¡ç†
6. **ç« èŠ‚ç®¡ç†ç³»ç»Ÿ** - ç« èŠ‚ç¼–è¾‘ã€ç»„ç»‡ã€ç»Ÿè®¡
7. **ä¸–ç•Œæ„å»ºå·¥å…·** - ä¸–ç•Œè®¾å®šç®¡ç†ç³»ç»Ÿ
8. **å†™ä½œç»Ÿè®¡åˆ†æ** - å†™ä½œä¼šè¯è¿½è¸ªå’Œåˆ†æ
9. **æ–‡ä»¶ä¸Šä¼ ç³»ç»Ÿ** - æ”¯æŒå°è¯´å¯¼å…¥å’Œå¤´åƒä¸Šä¼ 
10. **15 ä¸ªå‰ç«¯æœåŠ¡æ¨¡å—** - å®Œæ•´çš„æœåŠ¡å±‚æ¶æ„

### æŠ€æœ¯å®ç°äº®ç‚¹

- **æ¨¡å—åŒ–æ¶æ„**: é«˜åº¦è§£è€¦çš„å‰ç«¯æœåŠ¡å±‚
- **ç±»å‹å®‰å…¨**: å…¨æ ˆ TypeScript å®ç°
- **AI æ·±åº¦é›†æˆ**: AI Agent æ¨¡å¼æ”¯æŒçŸ¥è¯†å›¾è°±æŸ¥è¯¢
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: React 18 + Vite + Material-UI
- **æ•°æ®æŒä¹…åŒ–**: SQLite + Sequelize ORM
- **å›¾æ•°æ®æ”¯æŒ**: Neo4j çŸ¥è¯†å›¾è°±é›†æˆ

### å¼€å‘æˆæœ

- **ä»£ç å®Œæ•´æ€§**: å‰åç«¯å®Œæ•´å®ç°ï¼Œæ— ç¼ºå¤±æ¨¡å—
- **åŠŸèƒ½å¯ç”¨æ€§**: æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å‡å¯æ­£å¸¸ä½¿ç”¨
- **æŠ€æœ¯å…ˆè¿›æ€§**: é‡‡ç”¨æœ€æ–°çš„æŠ€æœ¯æ ˆå’Œæœ€ä½³å®è·µ
- **æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡æ”¯æŒåç»­åŠŸèƒ½æ‰©å±•
- **æµ‹è¯•éªŒè¯**: é€šè¿‡çŸ¥è¯†å›¾è°±é›†æˆæµ‹è¯•éªŒè¯

è¿™ä¸ªå®Œæ•´çš„é¡¹ç›®è¯´æ˜ä¹¦å‡†ç¡®åæ˜ äº†ä¹æ ¼è‡³æ•ˆ AI å°è¯´åˆ›ä½œå¹³å°çš„å®é™…å®ç°çŠ¶æ€ï¼Œä»å·²å®Œæˆçš„æŠ€æœ¯æ¶æ„åˆ°å®é™…åŠŸèƒ½ç‰¹æ€§ï¼Œä¸ºåç»­å¼€å‘å’Œç»´æŠ¤æä¾›äº†æƒå¨çš„æ–‡æ¡£æ”¯æŒã€‚
